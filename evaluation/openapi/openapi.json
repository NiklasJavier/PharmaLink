{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/medications/{medId}":{"get":{"tags":["medication-fabric-controller"],"operationId":"getMedicationById","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MedikamentResponseDto"}}}}}},"put":{"tags":["medication-fabric-controller"],"operationId":"updateMedication","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMedikamentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/actors/{actorId}":{"put":{"tags":["actor-fabric-controller"],"operationId":"updateActor","parameters":[{"name":"actorId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateActorRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units/{unitId}/transfer":{"post":{"tags":["unit-fabric-controller"],"operationId":"transferUnit","parameters":[{"name":"unitId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferUnitRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units/{unitId}/temperature-readings":{"post":{"tags":["unit-fabric-controller"],"operationId":"addTemperatureReading","parameters":[{"name":"unitId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddTemperatureReadingRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units/{medId}/units":{"post":{"tags":["unit-fabric-controller"],"operationId":"createUnitsForMedication","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUnitsRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units/transfer-range":{"post":{"tags":["unit-fabric-controller"],"operationId":"transferUnitRange","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferUnitRangeRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/medications":{"get":{"tags":["medication-fabric-controller"],"operationId":"getMyMedications","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["medication-fabric-controller"],"operationId":"createMedikament","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMedikamentRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/medications/{medId}/approval":{"post":{"tags":["medication-fabric-controller"],"operationId":"approveMedication","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateMedicationStatusRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/auth/login":{"post":{"tags":["auth-controller"],"operationId":"createAuthenticationToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/api/v1/units/{unitId}":{"get":{"tags":["unit-fabric-controller"],"operationId":"getUnitById","parameters":[{"name":"unitId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UnitResponseDto"}}}}}},"delete":{"tags":["unit-fabric-controller"],"operationId":"deleteUnit","parameters":[{"name":"unitId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units/{medId}/units-by-charge":{"get":{"tags":["unit-fabric-controller"],"operationId":"getUnitsGroupedByCharge","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/units/mine":{"get":{"tags":["unit-fabric-controller"],"operationId":"getMyUnits","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UnitResponseDto"}}}}}}}},"/api/v1/units/medications/{medId}/charge-counts":{"get":{"tags":["unit-fabric-controller"],"operationId":"getChargeCountsByMedId","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/search/units":{"get":{"tags":["search-controller"],"summary":"Einheiten nach Charge suchen","description":"Sucht innerhalb der eigenen Einheiten des Benutzers nach deren Chargenbezeichnung.","operationId":"searchUnitsByCharge","parameters":[{"name":"query","in":"query","description":"Die Suchanfrage für die Chargenbezeichnung.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UnitResponseDto"}}}}}}}},"/api/v1/search/my-units":{"get":{"tags":["search-controller"],"summary":"Eigene zwischengespeicherte Einheiten abrufen","description":"Gibt eine Liste aller Einheiten zurück, die dem aktuellen Benutzer gehören und sich im Cache befinden.","operationId":"getMyCachedUnits","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UnitResponseDto"}}}}}}}},"/api/v1/search/medikamente":{"get":{"tags":["search-controller"],"summary":"Nach Medikamenten suchen","description":"Sucht nach Medikamenten mit optionalen Filtern für Name/Hersteller, Status, Tags und Besitz.","operationId":"searchMedikamente","parameters":[{"name":"query","in":"query","description":"Suchanfrage für den Namen des Medikaments oder Herstellers.","required":false,"schema":{"type":"string"}},{"name":"status","in":"query","description":"Nach einem bestimmten Medikamentenstatus filtern (z. B. 'angelegt', 'freigegeben').","required":false,"schema":{"type":"string"}},{"name":"tags","in":"query","description":"Nach einer Liste von Tags filtern. Das Medikament muss mindestens einen Tag enthalten.","required":false,"schema":{"type":"array","items":{"type":"string"}}},{"name":"ownedByMe","in":"query","description":"Wenn 'true', werden nur Medikamente zurückgegeben, die dem aktuellen Akteur gehören.","required":false,"schema":{"type":"boolean","default":false}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MedikamentResponseDto"}}}}}}}},"/api/v1/search/actors":{"get":{"tags":["search-controller"],"summary":"Nach Akteuren suchen","description":"Sucht nach Akteuren anhand ihrer Rolle und/oder ihres Namens. Alle Parameter sind optional.","operationId":"searchActors","parameters":[{"name":"role","in":"query","description":"Nach einer bestimmten Rolle filtern.","required":false,"schema":{"type":"string"}},{"name":"bezeichnung","in":"query","description":"Suchanfrage für den Namen des Akteurs.","required":false,"schema":{"type":"string"}},{"name":"actorId","in":"query","description":"Nach einer bestimmten Akteur-ID filtern.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ActorResponseDto"}}}}}}}},"/api/v1/medications/search":{"get":{"tags":["medication-fabric-controller"],"operationId":"searchMedications","parameters":[{"name":"search","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MedikamentResponseDto"}}}}}}}},"/api/v1/hersteller/{herstellerId}":{"get":{"tags":["hersteller-fabric-controller"],"summary":"Get Manufacturer by ID","description":"Retrieves public information for a specific manufacturer.","operationId":"getHerstellerById","parameters":[{"name":"herstellerId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ActorResponseDto"}}}}}}},"/api/v1/hersteller/{herstellerId}/medications":{"get":{"tags":["hersteller-fabric-controller"],"summary":"Get Medications by Manufacturer","description":"Retrieves all medications for a specific manufacturer.","operationId":"getMedicationsByHersteller","parameters":[{"name":"herstellerId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/hersteller/me":{"get":{"tags":["hersteller-fabric-controller"],"summary":"Get My Manufacturer Info","description":"Retrieves information for the currently initialized manufacturer.","operationId":"getMyInfo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/hersteller/id":{"get":{"tags":["hersteller-fabric-controller"],"summary":"Get My Actor ID","description":"Returns the actorId of the user initialized at application startup.","operationId":"getMyActorId","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/actors":{"get":{"tags":["actor-fabric-controller"],"operationId":"getActorsByRole","parameters":[{"name":"role","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ActorResponseDto"}}}}}}}},"/api/system/current-actor-id":{"get":{"tags":["system-controller"],"summary":"Aktuelle Akteur-ID abrufen","description":"Ruft die ID des Akteurs ab.","operationId":"getCurrentActorId","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}},"/api/system/cache/stats":{"get":{"tags":["system-controller"],"summary":"Statistiken abrufen","description":"Gibt eine schnelle Zusammenfassung.","operationId":"getCacheStats","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SystemStatsDto"}}}}}}},"/api/system/cache/state":{"get":{"tags":["system-controller"],"summary":"Zustand des Zwischenspeichers abrufen","description":".","operationId":"getCacheState","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SystemStateDto"}}}}}}},"/api/v1/units/batch":{"delete":{"tags":["unit-fabric-controller"],"operationId":"deleteUnitsInBatch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteUnitsRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/medications/{medId}/conditional-delete":{"delete":{"tags":["medication-fabric-controller"],"operationId":"deleteMedikamentIfNoUnits","parameters":[{"name":"medId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"UpdateMedikamentRequestDto":{"type":"object","properties":{"bezeichnung":{"type":"string"},"infoblattHash":{"type":"string"},"ipfsData":{"type":"object","additionalProperties":{}}}},"UpdateActorRequestDto":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"ipfsData":{"type":"object","additionalProperties":{}}}},"TransferUnitRequestDto":{"type":"object","properties":{"newOwnerActorId":{"type":"string","minLength":1}},"required":["newOwnerActorId"]},"AddTemperatureReadingRequestDto":{"type":"object","properties":{"temperature":{"type":"string","minLength":1},"timestamp":{"type":"string","minLength":1}},"required":["temperature","timestamp"]},"CreateUnitsRequestDto":{"type":"object","properties":{"chargeBezeichnung":{"type":"string","minLength":1},"anzahl":{"type":"integer","format":"int32","minimum":1},"ipfsData":{"type":"object","additionalProperties":{}}},"required":["chargeBezeichnung"]},"TransferUnitRangeRequestDto":{"type":"object","properties":{"medId":{"type":"string"},"chargeBezeichnung":{"type":"string"},"startCounter":{"type":"integer","format":"int32"},"endCounter":{"type":"integer","format":"int32"},"newOwnerId":{"type":"string"},"transferTimestamp":{"type":"string"}}},"CreateMedikamentRequestDto":{"type":"object","properties":{"bezeichnung":{"type":"string","minLength":1},"infoblattHash":{"type":"string"},"ipfsData":{"type":"object","additionalProperties":{}}},"required":["bezeichnung"]},"UpdateMedicationStatusRequestDto":{"type":"object","properties":{"newStatus":{"type":"string","minLength":1,"pattern":"freigegeben|abgelehnt"}},"required":["newStatus"]},"AuthRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"jwt":{"type":"string"}}},"UnitResponseDto":{"type":"object","properties":{"unitId":{"type":"string"},"medId":{"type":"string"},"chargeBezeichnung":{"type":"string"},"ipfsLink":{"type":"string"},"currentOwnerActorId":{"type":"string"},"temperatureReadings":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"transferHistory":{"type":"array","items":{"type":"object","additionalProperties":{"type":"string"}}},"consumedRefId":{"type":"string"},"ipfsData":{"type":"object","additionalProperties":{}},"consumed":{"type":"boolean"}}},"MedikamentResponseDto":{"type":"object","properties":{"medId":{"type":"string"},"herstellerId":{"type":"string"},"bezeichnung":{"type":"string"},"ipfsLink":{"type":"string"},"status":{"type":"string"},"ipfsData":{"type":"object","additionalProperties":{}}}},"ActorResponseDto":{"type":"object","properties":{"actorId":{"type":"string"},"bezeichnung":{"type":"string"},"role":{"type":"string"},"email":{"type":"string"},"ipfsLink":{"type":"string"},"ipfsData":{"type":"object","additionalProperties":{}},"rolle":{"type":"string"}}},"SystemStatsDto":{"type":"object","properties":{"actorCount":{"type":"integer","format":"int32"},"medikamentCount":{"type":"integer","format":"int32"},"myUnitsCount":{"type":"integer","format":"int32"}}},"SystemStateDto":{"type":"object","properties":{"currentActorId":{"type":"string"},"actorCount":{"type":"integer","format":"int32"},"medikamentCount":{"type":"integer","format":"int32"},"myUnitsCount":{"type":"integer","format":"int32"},"allActors":{"type":"array","items":{"$ref":"#/components/schemas/ActorResponseDto"}},"allMedikamente":{"type":"array","items":{"$ref":"#/components/schemas/MedikamentResponseDto"}},"myUnits":{"type":"array","items":{"$ref":"#/components/schemas/UnitResponseDto"}}}},"DeleteUnitsRequestDto":{"type":"object","properties":{"unitIds":{"type":"array","items":{"type":"string"}}}}}}}